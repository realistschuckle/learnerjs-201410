<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>ES6 - The Great Parts!</title>
    <meta name="description" content="An interactive presentation for features of ECMAscript 6">
    <meta name="author" content="Curtis Schlak">
    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/sky.css" id="theme">
    <link rel="stylesheet" href="css/zenburn.css">
    <link rel="stylesheet" href="css/theme/presentation.css">
    <script src="js/reveal.min.js"></script>
    <script src="js/src-min-noconflict/ace.js"></script>
    <script type="application/javascript;version=1.7" src="js/loader.js"></script>
    <script type="application/javascript;version=1.7">System.import('js/presentation');</script>
    <script>
      if(typeof System === 'undefined') {
        var elem = document.createElement('script');
        elem.src = 'js/loader.js';
        document.head.appendChild(elem);

        function initializePresentation () {
          if (typeof System === 'undefined') {
            setTimeout(initializePresentation, 1000);
          }
          elem = document.createElement('script');
          elem.innerHTML = 'System.import("js/presentation");';
          document.head.appendChild(elem);
        }

        setTimeout(initializePresentation, 1000);
      }
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1>ECMAscript 6</h1>
          <h3>The Great Parts!</h3>
          <p>
            <small>
              Created by
              <a href="http://curtis.schlak.com" target="_blank">Curtis Schlak</a>
              for the October meeting of the
              <a href="http://houstonjs.com" target="_blank">HoustonJS</a>
              group
            </small>
          </p>
          <p>
            <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="./css/ccbyncsa.png" /></a>
          </p>
        </section>
        <section>
          <h2>You can follow along...</h2>
          <p>http://curtis.schlak.com/learnerjs-201410</p>
        </section>
        <section>
          <h2>We will see...</h2>
          <ul>
            <li><a href="#/modules">modules</a></li>
            <li><a href="#/classes">classes</a></li>
            <li><a href="#/lambdas">lambdas</a></li>
            <li><a href="#/proxies">proxies</a></li>
            <li><a href="#/destructuring">destructuring</a></li>
            <li><a href="#/generators">generators</a></li>
            <li><a href="#/templates">template strings</a></li>
            <li><a href="#/symbols">symbols</a></li>
          </ul>
        </section>
        <section>
          <section id="modules">
            <h1>Modules</h1>
          </section>
          <section>
            <h3>It started with...</h3>
            <pre><code data-trim class="html">
&lt;script src="js/MozCompat.js"&gt;&lt;/script&gt;
&lt;script src="js/themes.js"&gt;&lt;/script&gt;
&lt;script src="js/flash.js"&gt;&lt;/script&gt;
&lt;script src="js/Navigation.js"&gt;&lt;/script&gt;
&lt;script src="js/GTracking.js"&gt;&lt;/script&gt;
&lt;script src="js/Home.js"&gt;&lt;/script&gt;
&lt;script src="js/ieminwidth.js"&gt;&lt;/script&gt;
&lt;script src="js/slideshow.js"&gt;&lt;/script&gt;
&lt;script src="js/HomeTail.js"&gt;&lt;/script&gt;
            </code></pre>
          </section>
          <section>
            <h3>Then, YUI2 moved it forward</h3>
            <pre><code data-trim class="html">
&lt;script src="yuiloader-beta-min.js"&gt;&lt;/script&gt;
&lt;script&gt;
  loader = new YAHOO.util.YUILoader();
  loader.require('colorpicker', 'treeview');
  loader.insert(function () {
    new YAHOO.widget.ColorPicker('picker-div');
    new YAHOO.widget.TreeView('tree-div');
  });
&lt;/script&gt;
            </code></pre>
            <aside class="notes">
              Emerged in 2007
            </aside>
          </section>
          <section>
            <h3>"Standards" emerged</h3>
            <h4>managing dependencies between modules</h4>
            <ul>
              <li>CommonJS</li>
              <li>Asynchronous Module Definition (AMD)</li>
              <li>Dojo modules</li>
              <li>YUI3 modules</li>
            </ul>
            <aside class="notes">
              Emerged after 2009
            </aside>
          </section>
          <section>
            <h1>TC39 said, "meh"</h1>
          </section>
          <section>
            <h3>Importing</h3>
            <pre class="code">
<span class="keyword">import</span> theDefault <span class="keyword">from</span> <span class="string">'module'</span>;
<span class="keyword">import</span> * <span class="keyword">as</span> aNamespace <span class="keyword">from</span> <span class="string">'module'</span>;
<span class="keyword">import</span> { namedExport } <span class="keyword">from</span> <span class="string">'module'</span>;
<span class="keyword">import</span> { namedExport <span class="keyword">as</span> aliased } <span class="keyword">from</span> <span class="string">'module'</span>;</pre>
          </section>
          <section>
            <h3>Exporting</h3>
            <pre class="code">
<span class="keyword">export var</span> v;
<span class="keyword">export default function</span> f () {};
<span class="keyword">export default function</span> () {};
<span class="keyword">export default</span> <span class="number">42</span>;
<span class="keyword">export</span> { namedExport };
<span class="keyword">export</span> { namedExport <span class="keyword">as</span> aliased };
<span class="keyword">export</span> { namedExport } <span class="keyword">from</span> 'anotherModule';</pre>
          </section>
          <section id="module-creator">
            <h3><input type="text" id="module-name" placeholder="«module name»"></h3>
            <div class="editor-container">
              <div class="editor"></div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section id="module-evaluator">
            <h3>Use the module,now.</h3>
            <div class="editor-container">
              <div class="editor"></div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
        </section>
        <section>
          <section id="classes">
            <h1>Classes</h1>
          </section>
          <section data-native="true">
            <h3>What it used to be like</h3>
            <div class="editor-container">
              <div class="editor">
function Parent (value) {
  this.parentValue = value;
}
Parent.prototype.toString = function () {
  return 'PARENT: ' + this.parentValue;
};

function Child (childValue, parentValue) {
  Parent.call(this, parentValue);
  this.childValue = childValue;
}

Child.prototype = new Parent();
Child.prototype.toString = function () {
  return 'CHILD: ' + this.childValue + ', '
         + Parent.prototype.toString.call(this);
};

var child = new Child('Kate H', 'Goldie H')
console.log(String(child));
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section>
            <h3>Welcome class and extend!</h3>
            <div class="editor-container">
              <div class="editor">
class Parent {
  constructor (value) {
    this.parentValue = value;
  }
  toString() {
    return 'PARENT: ' + this.parentValue;
  }
}

class Child extends Parent {
  constructor(childValue, parentValue) {
    super(parentValue);
    this.childValue = childValue;
  }
  toString() {
    return 'CHILD: ' + this.childValue + ', '
           + super.toString();
  }
}

var child = new Child('George W', 'George HW');
console.log(String(child));
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section>
            <h3>It works even deeper...</h3>
            <div class="editor-container">
              <div class="editor">
class Parent {
  constructor (value) {
    this.parentValue = value;
  }
  toString() {
    return 'PARENT: ' + this.parentValue;
  }
}

class Child extends Parent {
  constructor(childValue, parentValue) {
    super(parentValue);
    this.childValue = childValue;
  }
  toString() {
    return 'CHILD: ' + this.childValue + ', '
           + super.toString();
  }
}

class GrandChild extends Child {
  constructor(grandchildValue, childValue, parentValue) {
    super(childValue, parentValue);
    this.grandchildValue = grandchildValue;
  }
  toString() {
    return 'GRANDCHILD: ' + this.grandchildValue + ', '
           + super.toString();
  }
}

console.log(String(new GrandChild('Margaux', 'Mary', 'Ernest')));
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section>
            <h3>Warning: still prototypal</h3>
            <div class="editor-container">
              <div class="editor">
class Parent {
  constructor (value) {
    this.value = value;
  }
  toString() {
    return 'PARENT: ' + this.value;
  }
}

class Child extends Parent {
  constructor(childValue, parentValue) {
    super(parentValue);
    this.value = childValue;
  }
  toString() {
    return 'CHILD: ' + this.value + ', '
           + super.toString();
  }
}

var child = new Child('Mira S', 'Paul S');
console.log(String(child));
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
        </section>
        <section>
          <section id="lambdas">
            <h1>Lambdas</h1>
            <h3>We call them<br>arrow functions</h3>
          </section>
          <section data-native="true">
            <h3>A lot like functions</h3>
            <div class="editor-container">
              <div class="editor">
function fn (n) {
  return 1 + n;
}

let lambda = n => 1 + n;

console.log(fn(3), lambda(3));
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section>
            <h2>So, what's the<br>difference?</h2>
            <p>
              Besides being all easier to type and stuff?
            </p>
          </section>
          <section data-native="true" id="this-as-self">
            <h3>this. Literally.</h3>
            <div class="editor-container">
              <div class="editor">
let thisSlide = document.getElementById('this-as-self');
thisSlide.addEventListener('click', function clicky () {

  // SAVE HERE!
  var self = this;

  thisSlide.removeEventListener('click', clicky);
  setTimeout(function () {

    // TO USE HERE!
    console.log('self === this:', self === this);
    console.log('self:', self);
    console.log('this:', this);

  }, 0);
});
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section data-native="true" id="lambda-has-no-this">
            <h3>Arrow functions have no this.</h3>
            <div class="editor-container">
              <div class="editor">
let thisSlide = document.getElementById('lambda-has-no-this');
thisSlide.addEventListener('click', function clicky () {
  thisSlide.removeEventListener('click', clicky);

  // The "this" in this lambda is the "this" of the
  // declaring context!
  setTimeout(() => console.log(this), 0);
});
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
        </section>
        <section>
          <section id="proxies">
            <h1>Proxies</h1>
          </section>
          <section>
            <p>
              <i class="line-through">a person</i>
              <i>an object authorized to act<br>on behalf of another</i>
            </p>
          </section>
          <section data-native="true">
            <h3>Example: Log all gets</h3>
            <div class="editor-container">
              <div class="editor">
let target = function targetFn () {};
target.firstName = 'Curtis';
target.age = function () {
  return Number.POSITIVE_INFINITY;
};

let handler = {
  get(target, name) {
    console.log('calling', name, 'on', target.name);
    return target[name];
  },
  apply(t) {
    console.log('Invoking the object!!!');
    return t;
  }
};

let p = new Proxy(target, handler);
p(p.firstName, p.age());
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section>
            <h3>Things to intercept</h3>
            <ul>
              <li>get</li>
              <li>set</li>
              <li>deleteProperty</li>
              <li>enumerate</li>
              <li>ownKeys</li>
              <li>has</li>
              <li>defineProperty</li>
              <li>getOwnPropertyDescriptor</li>
              <li>getPrototypeOf</li>
              <li>setPrototypeOf</li>
              <li>isExtensible</li>
              <li>preventExtensions</li>
              <li>apply</li>
              <li>construct</li>
            </ul>
          </section>
        </section>
        <section>
          <section id="destructuring">
            <h1>De<br>struc<br>turing</h1>
          </section>
          <section data-native="true">
            <h3>Bind to object properties</h3>
            <div class="editor-container">
              <div class="editor">
function kindOfMulti () {
  return {
    one: 1,
    two: 'zwei',
    three: 3.0
  };
}

let { one: o, two: t, three: th } = kindOfMulti();

console.log(o, t, th);
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section data-native="true">
            <h3>Bind to arrays</h3>
            <div class="editor-container">
              <div class="editor">
function kindOfMulti () {
  return [ 'uno', 2.0, 3 ];
}

// ignore some arguments
let [ ,, th ] = kindOfMulti();

console.log(th);
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section data-native="true">
            <h3>Also works for parameters</h3>
            <div class="editor-container">
              <div class="editor">
function destructure ({ name: n, age: a}) {
  console.log('I am', n, 'and I am', a, 'years old!');
}

var person = {
  name: 'Virginia',
  age: 8
};

destructure(person);
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section data-native="true">
            <h3>Mix and match</h3>
            <div class="editor-container">
              <div class="editor">
function destructure () {
  return [
    0,
    { first: 1, second: 2, ignored: 'always' },
    [ 3, 4, 5 ]
  ]
}

let [a, { first: b, second: c }, [ d, e, f ]] = destructure();

console.log(a, b, c, d, e, f)
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section>
            <h3>Restructuring?</h3>
            <p>
              That's kind of a joke. The <code>arguments</code> variable has
              always been a hacky way of working with variable arguments. It's
              not even a proper array.
            </p>
            <p>
              Now, we have the ... operator to bind remaining arguments!
            </p>
          </section>
          <section data-native="true">
            <h3>The ...rest of the story</h3>
            <div class="editor-container">
              <div class="editor">
function restParameter (i, j, ...rest) {
  console.log(i + j);
  console.log(Array.isArray(rest), rest);
}

restParameter(3, .14, 1, 2, 4, 8, 16);
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
        </section>
        <section>
          <section id="generators">
            <h1>Generate oars</h1>
          </section>
          <section>
            <h3>In python</h3>
            <div class="editor-container">
              <div class="editor" data-format="python">
def firstn(n):
  num = 0
  while num < n:
    yield num
    num += 1
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section>
            <h3>In C#</h3>
            <div class="editor-container">
              <div class="editor" data-format="csharp">
class GeneratorDude
{
  public IEnumerable&lt;int&gt; FirstN(int n)
  {
    int i = 0;
    while (i < n)
    {
      yield return i;
      i += 1;
    }
  }
}
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section data-native="true">
            <h3>In ECMAscript</h3>
            <div class="editor-container">
              <div class="editor">
function* firstn(n) {
  let i = 0;
  while (i < n) {
    yield i;
    i += 1;
  }
}

for (var i of firstn(5)) {
  console.log(i);
}
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section data-native="true">
            <h3>Generators using generators</h3>
            <div class="editor-container">
              <div class="editor">
function* beatles() {
  let names = [ 'John', 'Paul', 'George', 'Ringo' ];
  for (let name of names) {
    yield name;
  }
}

function* dudes() {
  let names = [ 'Jackie', 'Tito', 'Jermaine', 'Maron', 'Michael' ];
  for (let name of names) {
    yield name;
  }
  yield* beatles();
}

for (var name of dudes()) {
  console.log(name);
}
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
        </section>
        <section>
          <section id="templates">
            <h1>Templates</h1>
          </section>
          <section data-native="true">
            <h3>Supports multiple lines</h3>
            <div class="editor-container">
              <div class="editor">
let multiline = `line one
line two
line three`;

console.log(multiline);
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section data-native="true">
            <h3>Interpolation, too!</h3>
            <div class="editor-container">
              <div class="editor">
function replace(replacement, another) {
  return `static line
here's a ${replacement}
and ${another}
and 2 + 3 = ${2 + 3}!`;
}

console.log(replace('monkey', 'cheese'));
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section>
            <h1>Lovely!</h1>
          </section>
          <section data-native="true">
            <h3>I don't know what this is</h3>
            <div class="editor-container">
              <div class="editor">
function replace(str, ...parts) {
  console.log(str, parts);
}

let one = 1;
let two = 2;

replace`one ${one} two ${two}`
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
        </section>
        <section>
          <section id="symbols">
            <h1>Symbols</h1>
          </section>
          <section>
            <p>
              A symbol is a unique and immutable data type. You can use it as an
              identifier for object properties.
            </p>
            <p>&nbsp;</p>
            <p>
              LiSP and Ruby programmers will get this.
            </p>
          </section>
          <section>
            <h3>Without symbols</h3>
            <div class="editor-container">
              <div class="editor">
export class Person {
  constructor(name) {
    this._name = name;
  }
  get name() {
    return this._name;
  }
}

let person = new Person('Talachia');
console.log(person.name);
console.log(Object.keys(person));
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
          <section>
            <h3>With symbols</h3>
            <div class="editor-container">
              <div class="editor">
let nameProp = Symbol('name');

export class Person {
  constructor(name) {
    this[nameProp] = name;
  }
  get name() {
    return this[nameProp];
  }
}

let person = new Person('Megan');
console.log(person.name);
console.log(Object.keys(person));
              </div>
              <div class="console-container">
                <button class="clear-console">Clear</button>
                <div class="console"></div>
              </div>
            </div>
          </section>
        </section>
      </div>
    </div>
  </body>
</html>
